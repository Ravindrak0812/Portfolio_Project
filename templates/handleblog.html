{% extends 'base.html' %}
{% block title %}Blog{% endblock title %}
{% block body %}
{% load static %}

<style>
    /* Terminal Loader Styles */
    @keyframes blinkCursor {
        50% {
            border-right-color: transparent;
        }
    }

    @keyframes typeAndDelete {
        0%,
        10% {
            width: 0;
        }
        45%,
        55% {
            width: 6.2em; /* Adjust width based on text content */
        }
        90%,
        100% {
            width: 0;
        }
    }

    .terminal-loader {
        border: 0.1em solid #333;
        background-color: #1a1a1a;
        color: #0f0;
        font-family: "Courier New", Courier, monospace;
        font-size: 1.2em;
        padding: 1.5em 1em;
        width: 18em;
        max-width: 90vw;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        border-radius: 4px;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1000;
        overflow: hidden;
        box-sizing: border-box;
    }

    .terminal-header {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1.5em;
        background-color: #333;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
        padding: 0 0.4em;
        box-sizing: border-box;
    }

    .terminal-controls {
        float: right;
    }

    .control {
        display: inline-block;
        width: 0.6em;
        height: 0.6em;
        margin-left: 0.4em;
        border-radius: 50%;
        background-color: #777;
    }

    .control.close {
        background-color: #e33;
    }

    .control.minimize {
        background-color: #ee0;
    }

    .control.maximize {
        background-color: #0b0;
    }

    .terminal-title {
        float: left;
        line-height: 1.5em;
        color: #eee;
    }

    .text {
        display: inline-block;
        white-space: nowrap;
        overflow: hidden;
        border-right: 0.2em solid green; /* Cursor */
        animation:
            typeAndDelete 4s steps(11) infinite,
            blinkCursor 0.5s step-end infinite alternate;
        margin-top: 1.5em;
    }

    /* Content Section */
    .hidden {
        display: none;
        opacity: 0;
    }

    .fade-in {
        display: block;
        animation: fadeIn 1s ease-in forwards; /* 1s fade-in animation */
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>

<!-- Terminal Loader -->
<div id="loader" class="terminal-loader">
    <div class="terminal-header">
        <div class="terminal-title">Status</div>
        <div class="terminal-controls">
            <div class="control close"></div>
            <div class="control minimize"></div>
            <div class="control maximize"></div>
        </div>
    </div>
    <div class="text">Loading...</div>
</div>

<!-- Blog Section -->
<section id="services" class="services hidden">
    <div class="container">
        <div class="section-title">
            <h2>Welcome to my Blog</h2>
        </div>
        <div class="row">
            {% for post in posts reversed %}
            <div class="col-lg-4 col-md-6 icon-box" data-aos="fade-up">
                <div class="icon" style="border-radius:40%; height:50px; width:50px">
                    <img
                        style="border-radius:40%"
                        width="100%"
                        height="100%"
                        src="{{post.img.url}}"
                        class="img-fluid"
                        alt="no-image"
                    />
                </div>
                <h4 class="title"><a href="">{{post.title}}</a></h4>
                <p class="description">{{post.description}}</p>
                <div style="padding-left:80px">
                    <h6>Posted By :<b class="text-primary">{{post.authname}}</b></h6>
                    <h6>Posted on :<b class="text-primary">{{post.timeStamp}}</b></h6>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    // Show loader
    function showLoader() {
        $('#loader').removeClass('hidden');
    }

    // Hide loader and show content with animation
    function hideLoader() {
        $('#loader').addClass('hidden');
        $('#services').removeClass('hidden').addClass('fade-in');
    }

    $(document).ready(function () {
        showLoader();

        // Simulate loading completion after 2 seconds
        setTimeout(function () {
            hideLoader();
        }, 2000); // 2000ms = 2 seconds
    });
</script>
{% endblock body %}
